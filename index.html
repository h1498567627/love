<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Love for Zhou jie</title>
        <style>
            /* æ•´ä½“é¡µé¢æ ·å¼ï¼Œè®©htmlå’Œbodyå æ»¡æ•´ä¸ªè§†å£ */
            html,
            body {
                height: 100%;
                margin: 0;
                padding: 0;
                background: rgb(0, 0, 0);
                overflow: hidden;
            }

            /* ç”»å¸ƒå æ»¡æ•´ä¸ªé¡µé¢ */
            canvas {
                width: 100%;
                height: 100%;
            }

            /* åŒ…å«è¡¨ç™½æ–‡å­—çš„divæ ·å¼ï¼Œä½¿å…¶å±…ä¸­æ˜¾ç¤º */
            #child {
                position: absolute;
                left: 50%;
                top: 48%;
                transform: translate(-50%, -50%);
            }

            h4 {
                font-family: "STKaiti";
                font-size: 40px;
                color: #f584b7;
                position: relative;
            }
        </style>
    </head>

    <body>
        <audio id="bgMusic" loop>
            <source src="https://example.com/your_music.mp3" type="audio/mpeg">
            <!-- å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒMP3æ ¼å¼ï¼Œå¯ä»¥æ·»åŠ å…¶ä»–æ ¼å¼çš„éŸ³é¢‘æºï¼Œå¦‚ä¸‹é¢è¿™æ ·ï¼ˆç¤ºä¾‹ä¸ºoggæ ¼å¼ï¼‰ -->
            <source src="https://example.com/your_music.ogg" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <div id="child">
            <h4>ğŸ’— å‘¨æ´ ğŸ’—</h4>
        </div>
        <canvas id="pinkboard"></canvas>
        <script>
            // è·å–canvaså…ƒç´ 
            const canvas = document.getElementById('pinkboard');
            const ctx = canvas.getContext('2d');

            // è·å–éŸ³é¢‘å…ƒç´ 
            const bgMusic = document.getElementById('bgMusic');

            // è®¾ç½®canvaså°ºå¯¸ä¸ºçª—å£å¤§å°
            canvas.height = window.innerHeight;
            canvas.width = window.innerWidth;

            // è¦æ˜¾ç¤ºçš„è¡¨ç™½æ–‡å­—å†…å®¹ï¼Œæ‹†åˆ†æˆå­—ç¬¦æ•°ç»„
            const textToShow = 'I LOVE U'.split('');
            const fontSize = 16;
            // æ ¹æ®canvaså®½åº¦å’Œå­—ä½“å¤§å°è®¡ç®—æ–‡å­—åˆ—æ•°
            const columns = Math.floor(canvas.width / fontSize);
            // ç”¨äºè®°å½•æ¯åˆ—æ–‡å­—çš„å‚ç›´ä½ç½®ï¼Œåˆå§‹åŒ–ä¸º1ï¼ˆè¡¨ç¤ºä»é¡¶éƒ¨å¼€å§‹ï¼‰
            const drops = new Array(columns).fill(1);

            function playMusic() {
                // æ’­æ”¾èƒŒæ™¯éŸ³ä¹
                bgMusic.play();
            }

            function draw() {
                // è®¾ç½®èƒŒæ™¯åŠé€æ˜å¡«å……æ ·å¼ï¼Œå®ç°é€æ¸è¦†ç›–çš„æ•ˆæœï¼ˆç±»ä¼¼åŠ¨ç”»å¸§å åŠ ï¼‰
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // è®¾ç½®æ–‡å­—é¢œè‰²
                ctx.fillStyle = '#f584b7';
                ctx.font = `${fontSize}px arial`;

                // å¾ªç¯å¤„ç†æ¯ä¸€åˆ—æ–‡å­—
                for (let i = 0; i < columns; i++) {
                    // éšæœºé€‰å–è¦æ˜¾ç¤ºçš„å­—ç¬¦ï¼ˆä»textToShowæ•°ç»„ä¸­ï¼‰
                    const randomChar = textToShow[Math.floor(Math.random() * textToShow.length)];
                    // åœ¨å¯¹åº”ä½ç½®ç»˜åˆ¶æ–‡å­—
                    ctx.fillText(randomChar, i * fontSize, drops[i] * fontSize);

                    // åˆ¤æ–­æ–‡å­—æ˜¯å¦è¶…å‡ºç”»å¸ƒåº•éƒ¨æˆ–è€…æ»¡è¶³ä¸€å®šæ¦‚ç‡ï¼ˆç”¨äºåˆ¶é€ æ–‡å­—ä¸‹è½çš„éšæœºæ„Ÿï¼‰
                    if (drops[i] * fontSize > canvas.height || Math.random() > 0.95) {
                        drops[i] = 0;
                    }

                    drops[i]++;
                }
            }

            // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œå‡½æ•°ï¼Œå…ˆæ’­æ”¾éŸ³ä¹ï¼Œå†å¯åŠ¨æ–‡å­—åŠ¨ç”»æ•ˆæœ
            window.onload = function () {
                playMusic();
                setInterval(draw, 33);
            };
        </script>
    </body>

</html>
